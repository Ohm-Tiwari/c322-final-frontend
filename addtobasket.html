<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="navbar.css">
    <title>Document</title>
</head>
<body>
    <div class="navbar">
        
        <a href="cart.html"><i class="fa fa-fw fa-shopping-cart"></i> </a> 
        <a href="login.html"><i class="fa fa-fw fa-user"></i> </a>
        <a href="index.html">Help</a>
        <a href="trackorder.html">Track Order</a> 
    </div>
    <a href="index.html" style="font-size: larger; color: orange; text-decoration: none;">Flower.com</a>

    <label for="deliveryDate">Delivery:</label>
    <input type="date" id="delivery" required>

    <label>Purchase:</label>
    <div class="purchase-options">
        <label class="purchase-option">
            <input type="radio" name="purchaseOption" value="oneTimePurchase" checked>
            One Time Purchase ($<span id="oneTimePrice"></span>)
            <span class="checkmark"></span>
        </label>
        <label class="purchase-option">
            <input type="radio" name="purchaseOption" value="subscription">
            Start a Subscription (30% Discount - $<span id="subscriptionPrice"></span>)
            <span class="checkmark"></span>
        </label>
    </div>

    <button onclick="addToBasket()">Add to Basket</button>


    
</body>
<script src="configurations.js"></script>
<script>
    let flower = {}
    displayTheFlower();

    async function displayTheFlower() {
        try {
      let flowers = await getAll();
      let list = document.getElementById("list");
      list.innerHTML = "";

      for (let flower of flowers) {
        let div = document.createElement("div");
        div.id = `${flower.id}`;
        div.className = "card";
        div.onclick = function () {
          location.href = `addtobasket.html?id=${flower.id}`;
        };
        let innerHtml = `
          <div class="container">
            <img src="http://localhost:8080/flowers/${flower.id}/image" alt="${flower.name}">
            <p>${flower.name}</p>   
            <p>(from $ ${flower.cost})</p>           
          </div>`;
        div.innerHTML = innerHtml;
        list.appendChild(div);
      }
    } catch (error) {
      console.error("Error displaying flowers:", error);
    }
        }
    
    
</script>
</html>